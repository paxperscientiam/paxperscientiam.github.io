!function(){if(!window.$fsx){var i=window.$fsx={};i.f={},i.m={},i.r=function(t){var e=i.m[t];if(e)return e.m.exports;var n=i.f[t];return n?((e=i.m[t]={}).exports={},e.m={exports:e.exports},n.call(e.exports,e.m,e.exports),e.m.exports):void 0}}}(),function(l){l.f[0]=function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),l.r(1),l.r(2),l.r(3),l.r(4)},l.f[4]=function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=l.r(8),n=$(window);Modernizr.addTest("csstransformspreserve3d",function(){var n,i=Modernizr.prefixed("transformStyle"),t="preserve-3d";return!!i&&(i=i.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-"),Modernizr.testStyles("#modernizr{"+i+":"+t+"}",function(t,e){n=window.getComputedStyle?getComputedStyle(t,null).getPropertyValue(i):""}),n===t)});var r,s,a=$.event;r=a.special.debouncedresize={setup:function(){$(this).on("resize",r.handler)},teardown:function(){$(this).off("resize",r.handler)},handler:function(t,e){function n(){t.type="debouncedresize",a.dispatch.apply(i,o)}var i=this,o=arguments;s&&clearTimeout(s),e?n():s=setTimeout(n,r.threshold)},threshold:150};var o=(c.prototype._initEvents=function(){var e=this;""!==this.options.nextEl&&$(this.options.nextEl).on("click.bookblock touchstart.bookblock",function(){return console.log("next button clicked"),e._action("next"),!1}),""!==this.options.prevEl&&$(this.options.prevEl).on("click.bookblock touchstart.bookblock",function(){return e._action("prev"),!1}),n.on("debouncedresize",function(){e.elWidth=e.$el.width()}),$(document).keydown(function(t){switch(t.keyCode||t.which){case 37:e._action("prev");break;case 39:e._action("next")}})},c.prototype._action=function(t,e){this._stopSlideshow(),this._navigate(t,e)},c.prototype._navigate=function(t,e){if(this.isAnimating)return!1;this.options.onBeforeFlip(this.current),this.isAnimating=!0,this.$current=this.$items.eq(this.current),void 0!==e?this.current=e:"next"===t&&"ltr"===this.options.direction||"prev"===t&&"rtl"===this.options.direction?this.options.circular||this.current!==this.itemsCount-1?(this.previous=this.current,this.current=this.current<this.itemsCount-1?this.current+1:0):this.end=!0:("prev"===t&&"ltr"===this.options.direction||"next"===t&&"rtl"===this.options.direction)&&(this.options.circular||0!==this.current?(this.previous=this.current,this.current=0<this.current?this.current-1:this.itemsCount-1):this.end=!0),this.$nextItem=!this.options.circular&&this.end?this.$current:this.$items.eq(this.current),this.support?this._layout(t):this._layoutNoSupport(t)},c.prototype._layoutNoSupport=function(t){this.$items.hide(),this.$nextItem.show(),this.end=!1,this.isAnimating=!1;var e="next"===t&&this.current===this.itemsCount-1||"prev"===t&&0===this.current;this.options.onEndFlip(this.previous,this.current,e)},c.prototype._layout=function(n){var i=this,t=this._addSide("left",n),e=this._addSide("middle",n),o=this._addSide("right",n),r=t.find("div.bb-overlay"),s=e.find("div.bb-flipoverlay:first"),a=e.find("div.bb-flipoverlay:last"),c=o.find("div.bb-overlay"),u=this.end?400:this.options.speed;if(this.$items.hide(),this.$el.prepend(t,e,o),e.css({transitionDuration:u+"ms",transitionTimingFunction:this.options.easing}).on(this.transEndEventName,function(t){if($(t.target).hasClass("bb-page")){i.$el.children(".bb-page").remove(),i.$nextItem.show(),i.end=!1,i.isAnimating=!1;var e="next"===n&&i.current===i.itemsCount-1||"prev"===n&&0===i.current;i.options.onEndFlip(i.previous,i.current,e)}}),"prev"===n&&e.addClass("bb-flip-initial"),this.options.shadows&&!this.end){var l="next"===n?{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms"}:{transition:"opacity "+this.options.speed/2+"ms linear",opacity:this.options.shadowSides},h="next"===n?{transition:"opacity "+this.options.speed/2+"ms linear"}:{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms",opacity:this.options.shadowFlip},p="next"===n?{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms",opacity:this.options.shadowFlip}:{transition:"opacity "+this.options.speed/2+"ms linear"},d="next"===n?{transition:"opacity "+this.options.speed/2+"ms linear",opacity:this.options.shadowSides}:{transition:"opacity "+this.options.speed/2+"ms linear "+this.options.speed/2+"ms"};s.css(h),a.css(p),r.css(l),c.css(d)}setTimeout(function(){e.addClass(i.end?"bb-flip-"+n+"-end":"bb-flip-"+n),i.options.shadows&&!i.end&&(s.css({opacity:"next"===n?i.options.shadowFlip:0}),a.css({opacity:"next"===n?0:i.options.shadowFlip}),r.css({opacity:"next"===n?i.options.shadowSides:0}),c.css({opacity:"next"===n?0:i.options.shadowSides}))},25)},c.prototype._addSide=function(t,e){var n;switch(t){case"left":n=$('<div class="bb-page"><div class="bb-back"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+("next"===e?this.$current.html():this.$nextItem.html())+'</div></div><div class="bb-overlay"></div></div></div></div>').css("z-index",102);break;case"middle":n=$('<div class="bb-page"><div class="bb-front"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+("next"===e?this.$current.html():this.$nextItem.html())+'</div></div><div class="bb-flipoverlay"></div></div></div><div class="bb-back"><div class="bb-outer"><div class="bb-content" style="width:'+this.elWidth+'px"><div class="bb-inner">'+("next"===e?this.$nextItem.html():this.$current.html())+'</div></div><div class="bb-flipoverlay"></div></div></div></div>').css("z-index",103);break;case"right":n=$('<div class="bb-page"><div class="bb-front"><div class="bb-outer"><div class="bb-content"><div class="bb-inner">'+("next"===e?this.$nextItem.html():this.$current.html())+'</div></div><div class="bb-overlay"></div></div></div></div>').css("z-index",101)}return n},c.prototype._startSlideshow=function(){var t=this;this.slideshow=setTimeout(function(){t._navigate("next"),t.options.autoplay&&t._startSlideshow()},this.options.interval)},c.prototype._stopSlideshow=function(){this.options.autoplay&&(clearTimeout(this.slideshow),this.options.autoplay=!1)},c.prototype.next=function(){this._action("ltr"===this.options.direction?"next":"prev")},c.prototype.prev=function(){this._action("ltr"===this.options.direction?"prev":"next")},c.prototype.jump=function(t){if((t-=1)===this.current||t>=this.itemsCount||t<0)return!1;var e;e="ltr"===this.options.direction?t>this.current?"next":"prev":t>this.current?"prev":"next",this._action(e,t)},c.prototype.last=function(){this.jump(this.itemsCount)},c.prototype.first=function(){this.jump(1)},c.prototype.isActive=function(){return this.isAnimating},c.prototype.update=function(){var t=this.$items.eq(this.current);this.$items=this.$el.children(".bb-item"),this.itemsCount=this.$items.length,this.current=t.index()},c.prototype.destroy=function(){this.options.autoplay&&this._stopSlideshow(),this.$el.removeClass("bb-"+this.options.orientation),this.$items.show(),""!==this.options.nextEl&&$(this.options.nextEl).off(".bookblock"),""!==this.options.prevEl&&$(this.options.prevEl).off(".bookblock"),n.off("debouncedresize")},c);function c(t,e){this.options=t,this.$el=$(e),this.$el.addClass("bb-"+this.options.orientation),this.$items=this.$el.children(".bb-item").hide(),this.itemsCount=this.$items.length,console.log("startpage is "+this.options.startPage),0<this.options.startPage&&this.options.startPage<=this.itemsCount?this.current=this.options.startPage-1:(u("startPage option is out of range"),this.current=0),this.previous=-1,this.$current=this.$items.eq(this.current).show(),this.elWidth=this.$el.width();this.transEndEventName={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")]+".bookblock",this.support=Modernizr.csstransitions&&Modernizr.csstransforms3d&&Modernizr.csstransformspreserve3d,this._initEvents(),this.options.autoplay&&(this.options.circular=!0,this._startSlideshow())}var u=function(t){window.console&&window.console.error(t)};$.fn.bookBlock=Object.assign(function(c){var t=this;c=i.__assign({},$.fn.bookBlock.options,c),this.each(function(){$.data(t,"bookblock",new o(c,t))._initEvents()});var u=$("img"),l=$(".bb-bookblock"),e=document.getElementsByTagName("img");e[0].src=e[0].getAttribute("data-bbsrc");function n(){var i,o,r=$(window).width(),s=$(window).height(),a=r/s,t=new Image;t.onload=function(){!function(t){var e=Math.abs(1-c.gutter/100),n=Math.random()<.5?-1:1;1<(t+=Number.EPSILON*n)&&1<a?o=(i=s)*t:1<t&&a<1?(console.log(2),i=(o=r)/t):t<1&&1<a?o=(i=s)*t:t<1&&a<1&&(i=(o=r)/t),i*=e,o*=e,l.css({height:i,width:o}),u.css({height:i,width:o})}(t.width/t.height)},t.src=u.attr("src")}return $(window).on("resize",n),u.on("load",n),this},{options:{_dummy:!1,gutter:0,startPage:1,orientation:"vertical",direction:"ltr",speed:1e3,easing:"ease-in-out",shadows:!0,shadowSides:.2,shadowFlip:.1,circular:!1,nextEl:"#bb-nav-next",prevEl:"#bb-nav-prev",autoplay:!1,interval:3e3,onEndFlip:function(t,e,n){return!1},onBeforeFlip:function(t){return!1},width:null,height:null}})},l.f[5]=function(t,e){function n(t,e){var n=t.replace(/[\.\/]+/g,"-");"-"===n.charAt(0)&&(n=n.substring(1));var i=document.getElementById(n);if(i)e&&(i.innerHTML=e);else{var o=document.createElement(e?"style":"link");o.id=n,o.type="text/css",e?o.innerHTML=e:(o.rel="stylesheet",o.href=t),document.getElementsByTagName("head")[0].appendChild(o)}}"undefined"!=typeof FuseBox&&FuseBox.on("async",function(t){if(/\.css$/.test(t))return n(t),!1}),t.exports=n},l.f[8]=function(i,t){var e,n,o,r,s,a,c,u,l,h,p,d,f,v,b,y,m,w,_,g;!function(t){var e="object"==typeof self?self:"object"==typeof this?this:{};function n(n,i){return n!==e&&("function"==typeof Object.create?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(t,e){return n[t]=i?i(t,e):e}}"object"==typeof i.exports?t(n(e,n(i.exports))):t(n(e))}(function(t){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};e=function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n},r=function(t,e,n,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;0<=a;a--)(o=t[a])&&(s=(r<3?o(s):3<r?o(e,n,s):o(e,n))||s);return 3<r&&s&&Object.defineProperty(e,n,s),s},s=function(n,i){return function(t,e){i(t,e,n)}},a=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(r,s,a,c){return new(a=a||Promise)(function(t,e){function n(t){try{o(c.next(t))}catch(t){e(t)}}function i(t){try{o(c.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new a(function(t){t(e.value)}).then(n,i)}o((c=c.apply(r,s||[])).next())})},u=function(n,i){var o,r,s,t,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return t={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(s=2&e[0]?r.return:e[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,e[1])).done)return s;switch(r=0,s&&(e=[2&e[0],s.value]),e[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,r=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=i.call(n,a)}catch(t){e=[6,t],r=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},l=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},h=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},p=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(i=r.next()).done;)s.push(i.value)}catch(t){o={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},d=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t},f=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},v=function(t){return this instanceof v?(this.v=t,this):new v(t)},b=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(t,e||[]),s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(i){r[i]&&(o[i]=function(n){return new Promise(function(t,e){1<s.push([i,n,t,e])||a(i,n)})})}function a(t,e){try{!function(t){t.value instanceof v?Promise.resolve(t.value.v).then(c,u):l(s[0][2],t)}(r[t](e))}catch(t){l(s[0][3],t)}}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}},y=function(i){var t,o;return t={},e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,n){t[e]=i[e]?function(t){return(o=!o)?{value:v(i[e](t)),done:"return"===e}:n?n(t):t}:n}},m=function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=o[Symbol.asyncIterator];return e?e.call(o):(o=h(o),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=o[i]&&function(n){return new Promise(function(t,e){(function(e,t,n,i){Promise.resolve(i).then(function(t){e({value:t,done:n})},t)})(t,e,(n=o[i](n)).done,n.value)})}}},w=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},_=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},g=function(t){return t&&t.__esModule?t:{default:t}},t("__extends",e),t("__assign",n),t("__rest",o),t("__decorate",r),t("__param",s),t("__metadata",a),t("__awaiter",c),t("__generator",u),t("__exportStar",l),t("__values",h),t("__read",p),t("__spread",d),t("__spreadArrays",f),t("__await",v),t("__asyncGenerator",b),t("__asyncDelegator",y),t("__asyncValues",m),t("__makeTemplateObject",w),t("__importStar",_),t("__importDefault",g)})};window;l.r(0)}($fsx);